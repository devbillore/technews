<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KHR6Q9WR');</script>
<!-- End Google Tag Manager -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cart - TechShop</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .cart-item {
      display: flex;
      justify-content: space-between;
      background: white;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .cart-item button {
      background: #ff4d4d;
      border: none;
      color: white;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
  <script>
    window.dataLayer = window.dataLayer || [];

    function removeFromCart(itemId, itemName, itemCategory) {
      dataLayer.push({
        event: "remove_from_cart",
        ecommerce: {
          items: [
            {
              item_id: itemId,
              item_name: itemName,
              item_category: itemCategory,
              quantity: 1
            }
          ]
        }
      });

      alert(itemName + " removed from cart.");

      // âœ… Redirect after short delay (so GTM event fires)
      setTimeout(function () {
        window.location.href = "removed.html?item_id=" + encodeURIComponent(itemId);
      }, 500); // 500ms delay
    }
  </script>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KHR6Q9WR"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
  <header>
    <h1>Your Cart ðŸ›’</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="checkout.html">Checkout</a>
    </nav>
  </header>

  <main style="padding: 30px;">
    <div class="cart-item">
      <div>
        <strong>Smart AI Speaker</strong><br>
        <small>Category: Electronics</small>
      </div>
      <button onclick="removeFromCart('p1', 'Smart AI Speaker', 'Electronics')">Remove</button>
    </div>

    <div class="cart-item">
      <div>
        <strong>NextGen Laptop</strong><br>
        <small>Category: Computers</small>
      </div>
      <button onclick="removeFromCart('p2', 'NextGen Laptop', 'Computers')">Remove</button>
    </div>
  </main>
</body>
</html>
